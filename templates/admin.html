<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/static/admin.css">
    {#        <link rel="stylesheet" href="/static/ajax_mdn_file.css">#}
    <link rel="stylesheet" href="/static/mdn_file.css">
    <link rel="stylesheet" href="/static/font_style.woff2">
    <script src="{{ url_for('static', filename='js/jquery_file.js') }}"></script>
    <script src="{{ url_for('static', filename='js/admin.js') }}"></script>
    <script src="{{ url_for('static', filename='js/chartjs.js') }}"></script>
    <script src="{{ url_for('static', filename='js/dtable.js') }}"></script>

    <link href='https://fonts.googleapis.com/css?family=Crimson Text' rel='stylesheet'>
    {#    <script src="https://cdn.datatables.net/1.10.8/js/jquery.dataTables.min.js"></script>#}
    <!--    <link href="https://cdnjs.cloudflare.com/ajax/libs/mdb-ui-kit/5.0.0/mdb.min.css" rel="stylesheet"/>-->
    <!--    <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20,100,1,200" rel="stylesheet" />-->

    <title>VGC Cloud Dashboard</title>
</head>

<body id="body-content" style="background-color:#405d51;">
<div class="nav-bar" id="nav-bar">
    <nav>
        <div class="logo_and_search">
            <img onclick="openNav()" class="sealImage" alt="vgc" src="/static/vgc_logo.png">
            <div class="menu_ham">
                <span onclick="openNav()" class="material-symbols-outlined">menu</span>
            </div>

            <div class="menu_ham"><h2 id="label-head"></h2></div>
        </div>
        <div style="width: 400px;display: flex;justify-content: space-evenly;height: 56px;align-items: center;">
            <div class="icons-div">
                <div class="refresh" id="refresh" class="nav-icons" style=""
                     onclick="opendash()">
                    <span style="color:white;font-weight:500; margin-bottom:0;">Dashboard</span>
                    {#                    <span class="material-symbols-outlined" style="color:white;font-weight:800;">refresh</span>#}
                </div>
                <div class="refresh" id="refresh" class="nav-icons" style=""
                     onclick="location.href='/get_latest_data'">
                    <span style="color:white;font-weight:500; margin-bottom:0;">Refresh</span>
                    {#                    <span class="material-symbols-outlined" style="color:white;font-weight:800;">refresh</span>#}
                </div>
                <div class="refresh" id="export" class="nav-icons"
                     onclick="location.href='/downloads/{{ filename }}'">
                    <span style="color:white;font-weight:500; margin-bottom:0;">Export</span>
                    {#                    <span class="material-symbols-outlined" style="color:white;font-weight:800;">download</span>#}
                </div>
                <div class="refresh" id="schedule" class="nav-icons">
                    {#                    <span style="color:white;font-weight:800; margin-bottom:0;">Export</span>#}
                    <span style="color:white;font-weight:500; margin-bottom:0;"><a
                            href="#add-scheduler-popup">Auto Scan</a></span>
                </div>
                <div id="user" class="nav-icons">
                    <div class="refresh" id="dropdown" onclick="myFunction()">
                        <div style="display: flex;justify-content: space-evenly;width: 115px;align-items: center"><span
                                id="regiondrop" style="color:white;font-weight:500; margin-bottom:0;">{{ reg }}</span>
                            <span class="material-symbols-outlined">public</span></div>
                        <div class="dropdown-content" id="dropdown-content">
                            <h6 onclick="getRegion()">ap-south-1</h6>
                            <h6 onclick="getRegion()">eu-north-1</h6>
                            <h6 onclick="getRegion()">eu-west-3</h6>
                            <h6 onclick="getRegion()">eu-west-2</h6>
                            <h6 onclick="getRegion()">eu-west-1</h6>
                            <h6 onclick="getRegion()">ap-northeast-3</h6>
                            <h6 onclick="getRegion()">ap-northeast-2</h6>
                            <h6 onclick="getRegion()">ap-northeast-1</h6>
                            <h6 onclick="getRegion()">ca-central-1</h6>
                            <h6 onclick="getRegion()">sa-east-1</h6>
                            <h6 onclick="getRegion()">ap-southeast-1</h6>
                            <h6 onclick="getRegion()">ap-southeast-2</h6>
                            <h6 onclick="getRegion()">eu-central-1</h6>
                            <h6 onclick="getRegion()">us-east-1</h6>
                            <h6 onclick="getRegion()">us-east-2</h6>
                            <h6 onclick="getRegion()">us-west-1</h6>
                            <h6 onclick="getRegion()">us-west-2</h6>
                        </div>
                    </div>
                </div>
            </div>

        </div>
    </nav>
</div>

<div id="mySidenav" class="sidenav">
    <a href="javacript:void(0);" class="closebtn" onclick="closeNav()">&times;</a>
    <div class="sidenav_elements">
        <div class="main_logo">
            <img class="logo_vgc" alt="vgc" src="/static/vgc_logo.png">
        </div>
        <div class="a-elements">
            <ul id="sidebar-elements" class="sidebar-elements" style="padding-bottom: 1rem;">
                <li onclick="ats();" class="item" data-value="1">
                    <span class="material-symbols-outlined icon" id="ats_logo">send</span>
                    <span class="element-name" id="ats_text">Amazon Transfer Service</span>
                </li>
                <li onclick="loadBalancer();" class="item" data-value="2">
                    <span id="load_logo" class="material-symbols-outlined icon">lan</span>
                    <span id="load_text" class="element-name">Load Balancer</span>

                </li>
                <li onclick="nat();" class="item" data-value="3">
                    <span id="nat_logo" class="material-symbols-outlined icon">nat</span>
                    <span class="element-name" id="nat_text">NAT Gateway</span>
                </li>
                <li onclick="dynamo();" class="item" data-value="4">
                    <span class="material-symbols-outlined icon" id="dynamo_logo">database</span>
                    <span class="element-name" id="dynamo_text">Dynamo DB</span>
                </li>
                <li onclick="vpcDetails();" class="item" data-value="5">
                    <span id="vpc_logo" class="material-symbols-outlined icon">cloud</span>
                    <span id="vpc_text" class="element-name">VPC Details</span>
                </li>

                <li onclick="subnets();" class="item" data-value="6">
                    <span id="subnet_logo" class="material-symbols-outlined icon">hub</span>
                    <span id="subnets_text" class="element-name">SUBNETS</span>

                </li>
                <li onclick="nacl();" class="item" data-value="7">
                    <span id="nacl_logo" class="material-symbols-outlined icon">settings_input_hdmi</span>
                    <span class="element-name" id="nacl_text">NACL</span>

                </li>
                <li onclick="tgw();" class="item" data-value="8">
                    <span class="material-symbols-outlined icon" id="tgw_logo"> fluorescent</span>
                    <span class="element-name" id="tgw_text">TGW</span>
                </li>
                <li onclick="igw();" class="item" data-value="9">
                    <span id="igw_logo" class="material-symbols-outlined icon">router</span>
                    <span class="element-name" id="igw_text">IGW</span>
                    <!--            <span class="element-name" id="disk-perf">Disk performances</span>-->
                </li>
                <li onclick="rds();" class="item" data-value="10">
                    <span class="material-symbols-outlined icon" id="rds_logo">shield</span>
                    <span class="element-name" id="rds_text">RDS</span>
                </li>
                <li onclick="vms();" class="item" data-value="11">
                    <span class="material-symbols-outlined icon" id="vms_logo">dvr</span>
                    <span class="element-name" id="vms_text">VMs</span>
                </li>
                <li onclick="sqs();" class="item" data-value="12">
                    <span id="sqs_logo" class="material-symbols-outlined icon">view_agenda</span>
                    <span class="element-name" id="sqs_text">SQS</span>
                </li>
                <li onclick="sns();" class="item" data-value="13">
                    <span class="material-symbols-outlined icon">chat_bubble</span>
                    <span class="element-name">SNS</span>
                </li>
                {#                <li onclick="vms();"  class="item" data-value="14">#}
                {#                    <span class="material-symbols-outlined icon">dvr</span>#}
                {#                    <span class="element-name">S3</span>#}
                {#                </li>#}


            </ul>
        </div>
    </div>
</div>

<div class="hint_sidenav">

    <ul id="sidebar-elements" class="sidebar-elements" style="padding-bottom: 1rem;">
        <li onclick="ats();" id="ats" class="item" data-value="1">
            <span class="material-symbols-outlined icon" id="ats_logo">send</span>
        </li>
        <li onclick="loadBalancer();" id="lb" class="item" data-value="2">
            <span id="load_logo" class="material-symbols-outlined icon">lan</span>
        </li>
        <li onclick="nat();" id="nat" class="item" data-value="3">
            <span id="nat_logo" class="material-symbols-outlined icon">nat</span>
        </li>
        <li onclick="dynamo();" id="dynamo" class="item" data-value="4">
            <span class="material-symbols-outlined icon" id="dynamo_logo">database</span>
        </li>
        <li onclick="vpcDetails();" id="vpc" class="item" data-value="5">
            <span id="vpc_logo" class="material-symbols-outlined icon">cloud</span>
        </li>
        <li onclick="subnets();" id="subnets" class="item" data-value="6">
            <span id="subnet_logo" class="material-symbols-outlined icon">hub</span>
        </li>
        <li onclick="nacl();" id="nacl" class="item" data-value="7">
            <span id="nacl_logo" class="material-symbols-outlined icon">settings_input_hdmi</span>
        </li>
        <li onclick="tgw();" id="tgw" class="item" data-value="8">
            <span class="material-symbols-outlined icon" id="tgw_logo"> fluorescent</span>
        </li>
        <li onclick="igw();" id="igw" class="item" data-value="9">
            <span id="igw_logo" class="material-symbols-outlined icon">router</span>
        </li>
        <li onclick="rds();" id="rds" class="item" data-value="10">
            <span class="material-symbols-outlined icon" id="rds_logo">shield</span>
        </li>
        <li onclick="vms();" id="vms" class="item" data-value="11">
            <span class="material-symbols-outlined icon" id="vms_logo">dvr</span>
        </li>
        <li onclick="sqs();" id="sqs" class="item" data-value="12">
            <span id="sqs_logo" class="material-symbols-outlined icon">view_agenda</span>
        </li>
        <li onclick="sns();" id="sns" class="item" data-value="13">
            <span class="material-symbols-outlined icon">chat_bubble</span>
        </li>
        {#        <li onclick="vms();"  class="item" data-value="14">#}
        {#            <span class="material-symbols-outlined icon">dvr</span>#}
        {#        </li>#}


    </ul>
</div>
<div class="content_div" id="cont_div">

    <div id="add-scheduler-popup" class="popup-container">
        <div class="popup-content">
            <div class="heading-refresh">
                <div style="flex-grow: 1 "><h3>CUSTOM REFRESH INTERVAL</h3></div>

                <div><a href="#" class="close">&times;</a></div>
            </div>

            <div style="display:flex;flex-direction:column; align-items: center;margin-top:50px; ">
                <legend>CREATE NEW REFRESH SCHEDULE
                    <form action="/automate_refresh" method="post" class="new_refresh">

                        <div>
                            <div class="host-div">
                                <div>
                                    <h4>REGION</h4>
                                </div>
                                <div>
                                    <input type="text" id="ip-input-new" name="region"
                                           style="display:block;width: 270px;border:1px solid #000;margin-top: 20px"
                                           value="{{ reg }}" readonly class="region-in">
                                    <label for="region" style="display:inline-block;font-size: x-small">Note: Kindly
                                        change the region from selector on navigation bar </label>

                                </div>

                                <div><h4>TIME INTERVAL</h4></div>
                                <div><input type="text" placeholder="Enter interval in minutes/hours"
                                            id="time-input-new"
                                            name="interval"></div>
                                <div>
                                    <select name="units" id="range-picker-new">
                                        <option value="hours" selected>Hours</option>
                                        <option value="minutes">Minutes</option>
                                    </select>
                                </div>
                                <div class="button-refresh">
                                    <button>ADD</button>
                                </div>
                            </div>

                        </div>
                    </form>
                </legend>
                <div class="refresh_container">
                    <table>
                        <thead>
                        <tr>
                            <th>Region</th>
                            <th>Time Interval</th>
                            <th>Delete</th>
                            <th>Status</th>
                        </tr>
                        </thead>
                        <tbody>
                        {% for key,value in scheduler_data.items() %}
                            <tr>

                                <td class="regionKey">{{ key |default('') }}</td>
                                <td class="interval">{{ value['interval'] }} {{ value['interval_units'] }}</td>

                                <td class="delete_region" style="cursor:pointer;" onclick="openConfirm()"><span
                                        class="material-symbols-outlined"> delete</span></td>
                                <td class="status"><label class="switch">
                                    <input type="checkbox"/>
                                    <span class="slider round"></span>
                                </label></td>
                            </tr>
                        {% endfor %}
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
        <div class="confirmPopup" id="confirmPopup" style="display: none">
            <form action="/delete_region" method="post" class="popup-content">
                <a href="#" class="close">&times;</a>
                <h3>DELETE CUSTOM REFRESH INTERVAL</h3>
                <div style="display: flex;flex-direction: column;width: 100%;height: 280px;align-items:center;justify-content: space-evenly">
                    <span>You are going to delete the {{ reg }} scheduled refresh.Are you sure??</span>
                    <div style="display:flex;width:100%;height:fit-content;justify-content:center;">
                        <button id="del-reg"
                                style="width:150px;height:30px;border:none;cursor:pointer;background-color:#006E74;color:white;margin: 14px">
                            DELETE
                        </button>
                    </div>
                </div>
                <div style="display:none;flex-direction:column; align-items: center">
                    <div class="host-div">
                        <div><input type="text" class="region-delete" readonly name="region_name"
                                    style="visibility: hidden"></div>
                    </div>
                    <div class="interval-div">
                        {#                    <div><h4>TIME INTERVAL</h4></div>#}
                        <div><input type="text" readonly name="time-interval" class="delete-time"
                                    style="visibility: hidden"></div>
                        <div style="visibility: hidden">
                            <select readonly="readonly" name="interval-units">
                                <option value="hours" selected>Hours</option>
                                <option value="minutes">Minutes</option>
                            </select>
                        </div>
                    </div>
                </div>
            </form>

        </div>

    </div>

    {#    <div class="table_search">#}
    {##}
    {#        <input type="text" id="search-input" placeholder="Search...">#}
    {##}
    {#    </div>#}

    <div class="dashboard_View" id="dash-view" style="display:flex">
        <div class="cb_container">
            <div class="grid-box box1">
                <div class="head-text"><span>EC2</span></div>
                <div class="count-text" onclick="vms()"><a>{{ processing_data['ec2_details'] | length }}</a></div>
            </div>
            <div class="grid-box box2">
                <div class="head-text"><span>VPC</span></div>
                <div class="count-text" onclick="vpcDetails()"><a>{{ processing_data['vpc_details'] | length }}</a>
                </div>

            </div>
            <div class="grid-box box3">
                <div class="head-text"><span>RDS</span></div>
                <div class="count-text" onclick="rds()"><a>{{ processing_data['rds_details'] | length }}</a></div>

            </div>
            <div class="grid-box box4">
                <div class="head-text"><span>DynamoDB</span></div>
                <div class="count-text" onclick="dynamo()"><a>{{ processing_data['dynamodb_details'] | length }}</a>
                </div>

            </div>
        </div>
        <div class="gb_container">
            <div class="graphbox box1">

                <canvas id="myChart" width="1300" height="340"
                        style="width: 1300px;height: 340px; background:#183229"></canvas>
            </div>
        </div>
    </div>

    {#    <h1>{{ processing_data['subnet_details'] | length }}</h1>#}
    <div id="subnet_details">
        <div class="cont_table_main" >
            <table class="myTable" style="width: 100%">
                <thead>
                <tr class="heading-tr">
                    <th>Name</th>
                    <th>Subnet ID</th>
                    <th>State</th>
                    <th>VPC</th>
                    <th>IPV4 CIDR</th>
                    <th>Availability zone</th>
                    <th>Availability zone ID</th>
                    <th>Network Border Group</th>
                    <th>Network ACL</th>
                    <th>Route Table</th>
                </tr>
                </thead>
                <tbody>
                {% for subnets in processing_data['subnet_details'] %}

                    <tr>
                        <td>{{ subnets['Name'] }}</td>
                        <td>{{ subnets['Subnet ID'] }}</td>
                        <td>{{ subnets['State'] }}</td>
                        <td>{{ subnets['VPC'] }}</td>
                        <td>{{ subnets['IPv4 CIDR'] }}</td>
                        <td>{{ subnets['Availability Zone'] }}</td>
                        <td>{{ subnets['Availability Zone ID'] }}</td>
                        <td>{{ subnets['Network border group'] }}</td>
                        <td>{{ subnets['Network ACL'] }}</td>
                        <td>{{ subnets['Route Table'] }}</td>
                    </tr>

                {% endfor %}
                </tbody>
            </table>
        </div>
    </div>
    <div id="vpc_details" class="details-table" style="margin-left: 50px">

        <div class="cont_table_main">
            <table class="myTable">
                <thead>
                <tr class="heading-tr">
                    <th>Name</th>
                    <th>VPC ID</th>
                    <th>State</th>
                    <th>IPV4 CIDR</th>
                    <th>Host Min</th>
                    <th>Host Max</th>
                    <th>DHCP options set</th>
                    <th>Tenancy</th>
                    <th>Owner ID</th>
                    <th>Main Route Table</th>
                    <th>Main Network ACL</th>
                </tr>
                </thead>
                <tbody>
                {% for vpc in processing_data['vpc_details'] %}
                    <tr>
                        <td>{{ vpc['Name'] }}</td>
                        <td>{{ vpc['VPC ID'] }}</td>
                        <td>{{ vpc['State'] }}</td>
                        <td>{{ vpc['IPv4 CIDR'] }}</td>
                        <td>{{ vpc['Host Min'] }}</td>
                        <td>{{ vpc['Host Max'] }}</td>
                        <td>{{ vpc['DHCP options set'] }}</td>
                        <td>{{ vpc['Tenancy'] }}</td>
                        <td>{{ vpc['Owner ID'] }}</td>
                        <td>{{ vpc['Main route table'] }}</td>
                        <td>{{ vpc['Main network ACL'] }}</td>
                    </tr>
                {% endfor %}
                </tbody>
            </table>
        </div>
    </div>
    <div id="load_balancer" class="details-table">

        <div class="cont_table_main">
            <table class="myTable">
                <thead>
                <tr class="heading-tr">
                    <th>Name</th>
                    <th>DNS Name</th>
                    <th>State</th>
                    <th>VPC ID</th>
                    <th>Availability Zones</th>
                    <th>Type</th>
                    <th>Created At</th>
                </tr>
                </thead>
                <tbody>
                {% for load_balancer in processing_data['load_balancer'] %}
                    <tr>
                        <td>{{ load_balancer['Name'] }}</td>
                        <td>{{ load_balancer['DNS Name'] }}</td>
                        <td>{{ load_balancer['State'] }}</td>
                        <td>{{ load_balancer['VPC ID'] }}</td>
                        <td>{{ load_balancer['Availability Zones'] }}</td>
                        <td>{{ load_balancer['Type'] }}</td>
                        <td>{{ load_balancer['Created At'] }}</td>
                    </tr>
                {% endfor %}
                </tbody>
            </table>
        </div>
    </div>
    <div id="nacl" class="details-table">
        <div class="cont_table_main">
            <table class="myTable">
                <thead>
                <tr class="heading-tr">
                    <th>Name</th>
                    <th>Network ACL ID</th>
                    <th>VPC ID</th>
                    <th>Default</th>
                    <th>Inbound Rules Count</th>
                    <th>Outbound Rules Count</th>
                    <th>Associated with</th>
                </tr>
                </thead>
                <tbody>
                {% for nacl in processing_data['network_acl_details'] %}
                    <tr>
                        <td>{{ nacl['Name'] }}</td>
                        <td>{{ nacl['Network ACL ID'] }}</td>
                        <td>{{ nacl['VPC ID'] }}</td>
                        <td>{{ nacl['Default'] }}</td>
                        <td>{{ nacl['Inbound rules count'] }}</td>
                        <td>{{ nacl['Outbound rules count'] }}</td>
                        <td>{{ nacl['Associated with'] }}</td>
                    </tr>
                {% endfor %}
                </tbody>
            </table>
        </div>
    </div>
    <div id="igw" class="details-table">
        <div class="cont_table_main">
            <table class="myTable">
                <thead>
                <tr class="heading-tr">
                    <th>Name</th>
                    <th>Internal Gateway ID</th>
                    <th>State</th>
                    <th>VPC ID</th>
                </tr>
                </thead>
                <tbody>
                {% for igw in processing_data['igw_details'] %}
                    <tr>
                        <td>{{ igw['Name'] }}</td>
                        <td>{{ igw['Internet Gateway Id'] }}</td>
                        <td>{{ igw['State'] }}</td>
                        <td>{{ igw['VpcId'] }}</td>
                    </tr>
                {% endfor %}
                </tbody>
            </table>
        </div>
    </div>
    <div id="sqs_details" class="details-table">
        <div class="cont_table_main">
            <table class="myTable">
                <thead>
                <tr class="heading-tr">
                    <th>Name</th>
                    <th>Created</th>
                    <th>Type</th>
                    <th>Encryption</th>
                </tr>
                </thead>
                <tbody>
                {% for sqs in processing_data['sqs_details'] %}
                    <tr>
                        <td>{{ sqs['Name'] }}</td>
                        <td>{{ sqs['Created'] }}</td>
                        <td>{{ sqs['Type'] }}</td>
                        <td>{{ sqs['Encryption'] }}</td>
                    </tr>
                {% endfor %}
                </tbody>
            </table>
        </div>
    </div>
    <div id="nat_details" class="details-table">
        <div class="cont_table_main">
            <table class="myTable">
                <thead>
                <tr class="heading-tr">
                    <th>Name</th>
                    <th>NAT Gateway ID</th>
                    <th>Elastic IP Address</th>
                    <th>Private IP Address</th>
                    <th>Network Interface ID</th>
                    <th>VPC ID</th>
                    <th>Subnet ID</th>
                </tr>
                </thead>
                <tbody>
                {% for nat in processing_data['NAT_details'] %}
                    <tr>
                        <td>{{ nat['Name'] }}</td>
                        <td>{{ nat['NAT gateway ID'] }}</td>
                        <td>{{ nat['Elastic IP Address'] }}</td>
                        <td>{{ nat['Private IP address'] }}</td>
                        <td>{{ nat['Network interface ID'] }}</td>
                        <td>{{ nat['VPC ID'] }}</td>
                        <td>{{ nat['Subnet ID'] }}</td>
                    </tr>
                {% endfor %}
                </tbody>
            </table>
        </div>
    </div>
    <div id="tgw_details" class="details-table">
        <div class="cont_table_main">
            <table class="myTable">
                <thead>
                <tr class="heading-tr">
                    <th>Name</th>
                    <th>Transit Gateway Attachment ID</th>
                    <th>Transit Gateway ID</th>
                    <th>Resource Type</th>
                    <th>Resource ID</th>
                    <th>State</th>
                    <th>Association Route Table ID</th>
                </tr>
                </thead>
                <tbody>
                {% for tgw in processing_data['tgw_details'] %}

                    <tr>
                        <td>{{ tgw['Name'] }}</td>
                        <td>{{ tgw['Transit gateway attachment ID'] }}</td>
                        <td>{{ tgw['Transit gateway ID'] }}</td>
                        <td>{{ tgw['Resource type'] }}</td>
                        <td>{{ tgw['Resource ID'] }}</td>
                        <td>{{ tgw['State'] }}</td>
                        <td>{{ tgw['Association route table ID'] }}</td>
                    </tr>
                {% endfor %}
                </tbody>
            </table>
        </div>
    </div>
    <div id="rds_details" class="details-table" style="margin-left: 50px;">
        <div class="cont_table_main">
            <table class="myTable">
                <thead>
                <tr class="heading-tr">
                    <th>DB Name</th>
                    <th>Instance Type</th>
                    <th>vCPU</th>
                    <th>Memory In GB</th>
                    <th>Engine</th>
                    <th>Engine Version</th>
                    <th>DB Status</th>
                    <th>Admin User</th>
                    <th>End Point</th>
                    <th>VPC Security Groupd ID</th>
                    <th>Availability Zone</th>
                    <th>DB Subnet Name</th>
                    <th>VPC ID</th>
                    <th>Preferred Maintenance Window</th>
                    <th>Latest Restorable Time</th>
                    <th>MultiAZ</th>
                    <th>Auto Minor Version Upgrade</th>
                    <th>License Model</th>
                    <th>Pubilicly Accessible</th>
                    <th>Storage Type</th>
                    <th>Storage Encrypted</th>
                    <th>KMS Key ID</th>
                    <th>Monitoring Interval</th>
                    <th>DBInstanceArn</th>
                    <th>IAM Database Authentication Enabled</th>
                    <th>Deletion Protection</th>
                </tr>
                </thead>
                <tbody>
                {% for rds in processing_data['rds_details'] %}
                    <tr>
                        <td>{{ rds['DB Name'] }}</td>
                        <td>{{ rds['Instance Type'] }}</td>
                        <td>{{ rds['vCPU'] }}</td>
                        <td>{{ rds['Memory in GB'] }}</td>
                        <td>{{ rds['Engine'] }}</td>
                        <td>{{ rds['EngineVersion'] }}</td>
                        <td>{{ rds['DB Status'] }}</td>
                        <td>{{ rds['Admin User'] }}</td>
                        <td>{{ rds['End Point'] }}</td>
                        <td>{{ rds['VPC Security Groupd ID'] }}</td>
                        <td>{{ rds['Availability Zone'] }}</td>
                        <td>{{ rds['DB Subnet Name'] }}</td>
                        <td>{{ rds['VPC ID'] }}</td>
                        <td>{{ rds['Prefered Maintenance Window'] }}</td>
                        <td>{{ rds['LatestRestorableTime'] }}</td>
                        <td>{{ rds['MultiAZ'] }}</td>
                        <td>{{ rds['AutoMinorVersionUpgrade'] }}</td>
                        <td>{{ rds['LicenseModel'] }}</td>
                        <td>{{ rds['PubliclyAccessible'] }}</td>
                        <td>{{ rds['StorageType'] }}</td>
                        <td>{{ rds['StorageEncrypted'] }}</td>
                        <td>{{ rds['KmsKeyId'] }}</td>
                        <td>{{ rds['MonitoringInterval'] }}</td>
                        <td>{{ rds['DBInstanceArn'] }}</td>
                        <td>{{ rds['IAMDatabaseAuthenticationEnabled'] }}</td>
                        <td>{{ rds['DeletionProtection'] }}</td>
                    </tr>

                {% endfor %}
                </tbody>
            </table>
        </div>
    </div>
    <div id="dynamo_db" class="details-table">
        <div class="cont_table_main">
            <table class="myTable">
                <thead>
                <tr class="heading-tr">
                    <th>Table Name</th>
                    <th>Key Name</th>
                    <th>Key Table</th>
                    <th>Table Status</th>
                    <th>Creation DateTime</th>
                    <th>Last Decrease DateTime</th>
                    <th>Read Capacity Units</th>
                    <th>Write Capacity Units</th>
                    <th>Table Size Bytes</th>
                    <th>Item Count</th>
                    <th>TableArn</th>
                    <th>Table ID</th>
                </tr>
                </thead>
                <tbody>
                {% for dynamo_db in processing_data['dynamodb_details'] %}
                    <tr>
                        <td>{{ dynamo_db['Table Name'] }}</td>
                        <td>{{ dynamo_db['Key Name'] }}</td>
                        <td>{{ dynamo_db['Key Table'] }}</td>
                        <td>{{ dynamo_db['Table Status'] }}</td>
                        <td>{{ dynamo_db['Creation DateTime'] }}</td>
                        <td>{{ dynamo_db['LastDecrease DateTime'] }}</td>
                        <td>{{ dynamo_db['ReadCapacityUnits'] }}</td>
                        <td>{{ dynamo_db['WriteCapacityUnits'] }}</td>
                        <td>{{ dynamo_db['TableSizeBytes'] }}</td>
                        <td>{{ dynamo_db['ItemCount'] }}</td>
                        <td>{{ dynamo_db['TableArn'] }}</td>
                        <td>{{ dynamo_db['TableId'] }}</td>
                    </tr>
                {% endfor %}
                </tbody>
            </table>
        </div>
    </div>
    <div id="sns_details" class="details-table">
        <div class="cont_table_main">
            <table class="myTable">
                <thead>
                <tr class="heading-tr">
                    <th>SubscriptionArn</th>
                    <th>Owner</th>
                    <th>Protocol</th>
                    <th>Endpoint</th>
                    <th>TopicArn</th>
                </tr>
                </thead>
                <tbody>
                {% for sns_details in processing_data['sns_details'] %}
                    <tr>
                        <td>{{ sns_details['SubscriptionArn'] }}</td>
                        <td>{{ sns_details['Owner'] }}</td>
                        <td>{{ sns_details['Protocol'] }}</td>
                        <td>{{ sns_details['Endpoint'] }}</td>
                        <td>{{ sns_details['TopicArn'] }}</td>
                    </tr>
                {% endfor %}
                </tbody>
            </table>
        </div>
    </div>
    <div id="ts_details" class="details-table" style="display: none">
        <div class="cont_table_main">
            <table class="myTable">
                <thead>
                <tr class="heading-tr">
                    <th>Name</th>
                    <th>Arn</th>
                    <th>Domain</th>
                    <th>Endpoint Type</th>
                    <th>HostKey Fingerprint</th>
                    <th>Identity Provider Type</th>
                    <th>Logging Role</th>
                    <th>Protocols</th>
                    <th>Security Policy Name</th>
                    <th>Server ID</th>
                    <th>User Count</th>
                </tr>
                </thead>
                <tbody>
                {% for ts_details in processing_data['ts_details'] %}
                    <tr>
                        <td>{{ ts_details['Name'] }}</td>
                        <td>{{ ts_details['Arn'] }}</td>
                        <td>{{ ts_details['Domain'] }}</td>
                        <td>{{ ts_details['EndpointType'] }}</td>
                        <td>{{ ts_details['HostKeyFingerprint'] }}</td>
                        <td>{{ ts_details['IdentityProviderType'] }}</td>
                        <td>{{ ts_details['LoggingRole'] }}</td>
                        <td>{{ ts_details['Protocols'] }}</td>
                        <td>{{ ts_details['SecurityPolicyName'] }}</td>
                        <td>{{ ts_details['ServerId'] }}</td>
                        <td>{{ ts_details['State'] }}</td>
                        <td>{{ ts_details['UserCount'] }}</td>
                    </tr>
                {% endfor %}
                </tbody>
            </table>
        </div>
    </div>
    <div id="ec2_details" class="details-table" style="margin-left: 50px">
        <div class="cont_table_main">
            <table class="myTable">
                <thead>
                <tr class="heading-tr">
                    <th>Name</th>
                    <th>Owner ID</th>
                    <th>Host Name</th>
                    <th>AmiLaunch Index</th>
                    <th>Image ID</th>
                    <th>Instance ID</th>
                    <th>Instance Type</th>
                    <th>Key Name</th>
                    <th>Launch Time</th>
                    <th>State</th>
                    <th>Availability Zone</th>
                    <th>Tenancy</th>
                    <th>PrivateDNS Name</th>
                    <th>PrivateIP Address</th>
                    <th>Subnet ID</th>
                    <th>VPC ID</th>
                    <th>Architecture</th>
                    <th>Hypervisor</th>
                    <th>Platform</th>
                    <th>RootDevice Name</th>
                    <th>RootDevice Type</th>
                    <th>Root Volume ID</th>
                    <th>Root Device Size in GB</th>
                    <th>Additional Data Disk IDs</th>
                    <th>Additional Data Device Name</th>
                    <th>Additional Data Disk Size</th>
                    <th>CPU Core</th>
                    <th>CPU ThreadsPerCore</th>
                    <th>Security Groups-Name</th>
                    <th>Security Groups-ID</th>
                    <th>Backup Plan Name</th>
                    <th>Backup Retention</th>
                    <th>Custom Permission-Arn</th>
                    <th>Custom Permission-ID</th>
                </tr>
                </thead>
                <tbody>
                {% for ec2 in processing_data['ec2_details'] %}
                    <tr>
                        <td>{{ ec2['Name'] }}</td>
                        <td>{{ ec2['owner_id'] }}</td>
                        <td>{{ ec2['PrivateDnsName'] }}</td>
                        <td>{{ ec2['AmiLaunch Index'] }}</td>
                        <td>{{ ec2['Image Id'] }}</td>
                        <td>{{ ec2['Instance Id'] }}</td>
                        <td>{{ ec2['Instance Type'] }}</td>
                        <td>{{ ec2['Key Name'] }}</td>
                        <td>{{ ec2['LaunchTime'] }}</td>
                        <td>{{ ec2['State'] }}</td>
                        <td>{{ ec2['AvailabilityZone'] }}</td>
                        <td>{{ ec2['Tenancy'] }}</td>
                        <td>{{ ec2['PrivateDnsName'] }}</td>
                        <td>{{ ec2['PrivateIpAddress'] }}</td>
                        <td>{{ ec2['SubnetId'] }}</td>
                        <td>{{ ec2['VpcId'] }}</td>
                        <td>{{ ec2['Architecture'] }}</td>
                        <td>{{ ec2['Hypervisor'] }}</td>
                        <td>{{ ec2['Platform'] }}</td>
                        <td>{{ ec2['RootDeviceName'] }}</td>
                        <td>{{ ec2['RootDeviceType'] }}</td>
                        <td>{{ ec2['Root Volume ID'] }}</td>
                        <td>{{ ec2['Root Device Size in GB'] }}</td>
                        <td>{{ ec2['Additional Data Disk IDs'] }}</td>
                        <td>{{ ec2['Additional Data Device Name'] }}</td>
                        <td>{{ ec2['Additional Data Disk Size'] }}</td>
                        <td>{{ ec2['CPU Core'] }}</td>
                        <td>{{ ec2['CPU ThreadsPerCore'] }}</td>
                        <td>{{ ec2['SecurityGroups-name'] }}</td>
                        <td>{{ ec2['SecurityGroups-id'] }}</td>
                        <td>{{ ec2['Backup Plan Name'] }}</td>
                        <td>{{ ec2['Backup Retention'] }}</td>
                        <td>{{ ec2['Custom Permissions - Arn'] }}</td>
                        <td>{{ ec2['Custom Permissions - Id'] }}</td>
                    </tr>
                {% endfor %}
                </tbody>
            </table>
        </div>
    </div>
</div>
<footer>
    <div>
        <button class="region dropbtn" id="regionIndi">{{ reg }}</button>
    </div>
    <div id="timestamp">
        Timestamp: {{ ts }}
    </div>
</footer>
</body>
<script>
    {#var canvas = document.getElementById('myChart');#}
    // canvas.width = "320
    var ctx = document.getElementById('myChart').getContext('2d');
    var myChart = new Chart(ctx, {
        type: 'bar',

        data: {
            labels: ['NACL', 'TGW', 'IGW', 'NAT GATEWAY', 'SQS', 'LOAD BALANCER', 'VMs-DR', 'DYNAMO DB', 'RDS EC2 DB', 'VMs', 'VPC', 'SUBNET'],
            datasets: [{
                label: 'PROD',
                data: [12, 19, 3, 5, 2, 3, 12, 19, 3, 5, 2, 3],
                backgroundColor: [
                    'rgba(0, 255, 255, 1)',
                ],
                borderColor: [
                    'rgba(0, 255, 255, 1)',
                ],
                borderWidth: 1
            },
                {
                    label: 'NON PROD',
                    data: [1, 13, 9, 4, 7, 3, 12, 19, 2, 9, 1, 3],
                    backgroundColor: [
                        '#aaf255',
                    ],
                    borderColor: [
                        '#aaf255',
                    ],
                    borderWidth: 1
                }],

        },
        options: {
            indexAxis: 'y',
            color: 'white',
            fontColor: 'red',
            legend: {
                label: {
                    fontColor: 'red'
                }
            }

        }
    });

    {#var underlineMenuItems = document.querySelectorAll("ul li");#}
    {#underlineMenuItems[0].classList.add("active");#}
    {##}
    {#underlineMenuItems.forEach(function (item) {#}
    {#    item.addEventListener("click", function select() {#}
    {#        underlineMenuItems.forEach(function (item) {#}
    {#            console.log(item, "remove akune item")#}
    {#            return item.classList.remove("active");#}
    {#        });#}
    {##}
    {#        item.classList.add("active");#}
    {##}
    {#    });#}
    {##
    {# });#}


    function closeNav() {
        document.getElementById("mySidenav").style.width = "0";

    }

    function openNav() {
        document.getElementById("mySidenav").style.width = "295px";

    }


    function myFunction() {
        document.getElementById("dropdown-content").classList.toggle("show");
    }

    function getRegion() {
        let links = document.querySelectorAll("h6");

        for (let link of links) {
            link.addEventListener("click", function (event) {
                event.preventDefault();
                let clickedLinkText = this.textContent;
                window.location.href = '/dashboard/' + clickedLinkText;
                document.getElementById("regionIndi").textContent = clickedLinkText;
                document.getElementById("regiondrop").textContent = clickedLinkText;
                document.getElementById("dropdown-content").classList.toggle("show");


            });

        }

    }

</script>
</html>